---
title: "Command Reference"
description: "Complete reference for all cloud-dev CLI commands."
---

# Cloud Dev Command Reference

All commands are run from the DevStride repository root:

```bash
./ds cloud-dev <command> [options]
```

## Getting Started

| Command | Description |
|---------|-------------|
| `init` | Configure local environment (run this first!) |
| `create` | Create and fully configure a cloud dev environment |

### `init`

Configure your local environment for cloud-dev. Run this once before using other commands.

```bash
./ds cloud-dev init
```

This will:
- Set `DEVSTRIDE_STAGE` (your developer name)
- Set `AWS_PROFILE` (your AWS SSO profile)
- Update your shell configuration

### `create`

Deploy a new cloud development environment.

```bash
./ds cloud-dev create [options]
```

**Options:**
| Option | Description |
|--------|-------------|
| `-n, --name <name>` | Developer name (defaults to `DEVSTRIDE_STAGE`) |
| `-i, --instance <id>` | Instance identifier for multiple instances |
| `--skip-setup` | Deploy infrastructure only (skip auto-setup) |

**Example:**
```bash
./ds cloud-dev create              # Standard create
./ds cloud-dev create -i 2         # Create second instance
./ds cloud-dev create --skip-setup # Infrastructure only
```

---

## Instance Management

| Command | Description |
|---------|-------------|
| `list` | List all your dev instances |
| `start` | Start a stopped instance |
| `stop` | Stop a running instance (preserves data) |
| `info` | Show connection information |
| `destroy` | Remove instance and all AWS resources |

### `destroy`

Completely remove a cloud environment. **This deletes all data.**

```bash
./ds cloud-dev destroy [options]
```

**Options:**
| Option | Description |
|--------|-------------|
| `-n, --name <name>` | Developer name |
| `-i, --instance <id>` | Instance identifier |
| `-f, --force` | Skip confirmation prompt |

This removes:
- EC2 instance and EBS volume (**all data lost**)
- VPC and networking resources
- Local SSH keys and config

---

## Connectivity

| Command | Description |
|---------|-------------|
| `ssh` | SSH into your instance |
| `ssm` | Connect via AWS SSM (no SSH key needed) |
| `setup` | Configure SSH keys and GitHub access manually |

### `ssh`

Connect to your instance via SSH.

```bash
./ds cloud-dev ssh
./ds cloud-dev ssh -i 2  # Connect to instance 2
```

If SSH keys aren't configured, you'll be prompted to run setup.

### `ssm`

Connect via AWS Systems Manager (useful if SSH is blocked):

```bash
./ds cloud-dev ssm
```

---

## Remote Development

Run commands on your cloud instance from your local terminal:

| Command | Description |
|---------|-------------|
| `start-backend` | Start backend (`./ds run backend`) |
| `stop-backend` | Stop backend process |
| `start-frontend` | Start frontend (`./ds run ui`) |
| `stop-frontend` | Stop frontend process |
| `run-migrations` | Run database migrations |
| `reset-database` | Reset database from source |

**Example:**
```bash
./ds cloud-dev start-backend  # Runs in your terminal with live output
# Press Ctrl+C to stop
```

---

## Secrets Management

| Command | Description |
|---------|-------------|
| `init-secrets` | Push local `.env` to AWS Secrets Manager (admin) |
| `setup-secrets` | Fetch secrets from AWS to local `.env` file |
| `list-secrets` | List stored secret keys (not values) |

### `setup-secrets`

Download shared secrets to create your `.env` file:

```bash
./ds cloud-dev setup-secrets
./ds cloud-dev setup-secrets -o .env.local  # Custom output path
```

### `init-secrets` (Admin)

Upload local `.env` to AWS Secrets Manager for team sharing:

```bash
./ds cloud-dev init-secrets
./ds cloud-dev init-secrets -f  # Force overwrite
```

---

## Global Options

These options work with most commands:

| Option | Description |
|--------|-------------|
| `-n, --name <name>` | Developer name (defaults to `DEVSTRIDE_STAGE`) |
| `-i, --instance <id>` | Instance identifier (for multiple instances) |
| `-f, --force` | Skip confirmation prompts |

---

## Interactive Menu

Run without arguments for an interactive menu:

```bash
./ds cloud-dev
```

Or show help:

```bash
./ds cloud-dev help
```
