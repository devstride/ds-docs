---
title: "Cost Management"
description: "Managing AWS costs for personal development stages."
---

# Cost Management

Personal development stages are designed to be inexpensive, but they are not free. This page covers how to minimize costs when you are not actively developing, and how to fully tear down a stage when it is no longer needed.

## Pause / Resume

When you are not actively developing but want to keep your stage deployed (to avoid the 10-minute setup time), pause it:

```bash
./ds infra pause     # Set all Lambda reserved concurrency to 0
./ds infra resume    # Restore Lambda concurrency to default
```

Pausing sets every Lambda function's reserved concurrency to zero, which means:
- No API requests can be served (API Gateway returns 429)
- No EventBridge consumers fire
- No SQS consumers process messages
- Resources (tables, buckets, CloudFront) remain deployed and accessible via AWS console

This effectively stops all compute costs while keeping data and configuration intact.

## Ephemeral Stage Settings

Personal stages automatically receive cost-optimized settings:

| Setting | Personal Stage | Prod / Dev |
|---------|---------------|------------|
| CloudWatch Logs retention | 7 days | 90 days |
| Secrets Manager recovery window | 0 days (immediate deletion) | 30 days |
| S3 `forceDestroy` | Enabled | Disabled |
| DynamoDB billing | On-demand | On-demand |
| Resource protection | Disabled | Enabled |

These defaults reduce storage costs and simplify cleanup without compromising the development experience.

## Resource Tagging for Cost Tracking

All resources are tagged with `devstride:stage` and `devstride:tier`. To see how much a specific stage costs:

1. Open **AWS Cost Explorer** in the console
2. Filter by tag: `devstride:stage = yourname`
3. Group by **Service** to see the cost breakdown

This is useful for identifying unexpectedly expensive resources or comparing costs across developer stages.

## Full Teardown

When you no longer need a personal stage, destroy it entirely:

```bash
./ds infra remove
```

This destroys all AWS resources, deletes the Neon database branch, removes the Pulumi stack state, and cleans up local caches. After teardown, your AWS costs for that stage drop to zero.

Recreating a stage from scratch takes approximately 10 minutes with `./ds setup`.

## Cost Estimate

Approximate monthly costs for a personal development stage with minimal traffic:

| Component | Running | Paused | Destroyed |
|-----------|---------|--------|-----------|
| Lambda | ~$5--20 | $0 | $0 |
| DynamoDB (on-demand) | ~$2--5 | ~$2--5 | $0 |
| S3 (storage) | ~$1--3 | ~$1--3 | $0 |
| CloudFront | ~$1--5 | ~$1--5 | $0 |
| Cognito | Free tier | Free tier | $0 |
| CloudWatch Logs | ~$1--3 | ~$1--3 | $0 |
| **Total** | **~$10--36** | **~$5--16** | **$0** |

These are rough estimates for a single-developer stage with occasional manual testing. Costs scale with traffic and data volume. Automated test suites or load testing will increase Lambda and DynamoDB costs.

::callout{type="tip"}
Most developers should destroy their stage when not actively using it. Recreating takes approximately 10 minutes with `./ds setup`, and the data can be re-imported from a production snapshot. Reserve the pause/resume approach for periods when you expect to resume development within a day or two.
::

## Tips for Keeping Costs Low

1. **Destroy when idle** -- If you are not going to work on DevStride for more than a couple of days, run `./ds infra remove`.
2. **Pause for short breaks** -- If you are stepping away for lunch or overnight, `./ds infra pause` prevents Lambda invocations.
3. **Avoid storing large files** -- The media and analytics buckets can accumulate data. Personal stages do not need production-sized datasets.
4. **Check for orphaned resources** -- If a `pulumi destroy` fails partway through, some resources may remain. Use `./ds admin list-stages` to identify stale stages, or check AWS Cost Explorer for unexpected charges.
